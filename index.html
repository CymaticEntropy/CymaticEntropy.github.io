<!DOCTYPE html>
<html = style="height: 100%;">
  <head>
    <title>Bear Creek Law Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="icons/law.png">
    <link rel="stylesheet" href="scripts/leaflet.css">
    <script src="scripts/leaflet.js"></script>
  </head>

  <body style="height: 100%; margin: 0;">
    <div id="map" style="width: 100%; height: 100%; background: #CFB88F;"></div>
    <script type="text/javascript">
	
      //Creating the Map
      var map = L.map('map').setView([0, 0], 0);
      L.tileLayer('map/{z}/{x}/{y}.png', {
        continuousWorld: false,
        noWrap: true,
        minZoom: 2,
        maxZoom: 6,
      }).addTo(map);

      //Coordinate Finder
      var marker = L.marker([-20, 40], {
        draggable: true,
      });
      marker.bindPopup('LatLng Marker').openPopup();
      marker.on('dragend', function(e) {
        marker.getPopup().setContent(marker.getLatLng().toString()).openOn(map);
      });

      //Icons
      var icon_marshal = L.icon({
        iconUrl:       'icons/marshal.png',
        iconRetinaUrl: 'icons/marshal.png',
        shadowUrl:     'icons/shadow.png',
        iconSize:    [25, 41],
        iconAnchor:  [12, 41],
        popupAnchor: [1, -34],
        tooltipAnchor: [16, -28],
        shadowSize:  [41, 41]
      });

      var icon_ingredient = L.icon({
        iconUrl:       'icons/ingredient.png',
        iconRetinaUrl: 'icons/ingredient.png',
        shadowUrl:     'icons/shadow.png',
        iconSize:    [25, 41],
        iconAnchor:  [12, 41],
        popupAnchor: [1, -34],
        tooltipAnchor: [16, -28],
        shadowSize:  [41, 41]
      });

      var icon_reservation = L.icon({
        iconUrl:       'icons/reservation.png',
        iconRetinaUrl: 'icons/reservation.png',
        shadowUrl:     'icons/shadow.png',
        iconSize:    [25, 41],
        iconAnchor:  [12, 41],
        popupAnchor: [1, -34],
        tooltipAnchor: [16, -28],
        shadowSize:  [41, 41]
      });

      var icon_graveyard = L.icon({
        iconUrl:       'icons/graveyard.png',
        iconRetinaUrl: 'icons/graveyard.png',
        shadowUrl:     'icons/shadow.png',
        iconSize:    [25, 41],
        iconAnchor:  [12, 41],
        popupAnchor: [1, -34],
        tooltipAnchor: [16, -28],
        shadowSize:  [41, 41]
      });

      var icon_campsite = L.icon({
        iconUrl:       'icons/campsite.png',
        iconRetinaUrl: 'icons/campsite.png',
        shadowUrl:     'icons/shadow.png',
        iconSize:    [25, 41],
        iconAnchor:  [12, 41],
        popupAnchor: [1, -34],
        tooltipAnchor: [16, -28],
        shadowSize:  [41, 41]
      });

      var icon_interest = L.icon({
        iconUrl:       'icons/interest.png',
        iconRetinaUrl: 'icons/interest.png',
        shadowUrl:     'icons/shadow.png',
        iconSize:    [25, 41],
        iconAnchor:  [12, 41],
        popupAnchor: [1, -34],
        tooltipAnchor: [16, -28],
        shadowSize:  [41, 41]
      });


      // REST API


      //Markers
      var macfarlanes = L.marker([-42.988576, -33.596191], {icon: icon_marshal}).bindPopup("Fisher Homestead");
      var bisonplains = L.marker([-23.684774, -2.592773], {icon: icon_marshal}).bindPopup("Bison Herd");

      var blueberries = L.marker([41.52503, 37.397461], {icon: icon_ingredient}).bindPopup("Blueberries");
      var olives = L.marker([-51.234407, -106.325684], {icon: icon_ingredient}).bindPopup("Olive Bush");

      var wapiticamp = L.marker([70.27429, 56.99707], {icon: icon_reservation}).bindPopup("Wapiti Camp");
      var miskwacamp = L.marker([45.614037, 7.558594], {icon: icon_reservation}).bindPopup("Miskwa Camp");
      var blackknife = L.marker([-51.151786, -48.295898], {icon: icon_reservation}).bindPopup("Tuhnahuunʉʉ Camp");
      var nanolitribe = L.marker([61.407236, 36.848145], {icon: icon_reservation}).bindPopup("Nanoli Camp");

      var bwgraves = L.marker([-9.514079, 11.293945], {icon: icon_graveyard}).bindPopup("Blackwater Graves");
      var frgraves = L.marker([-2.613839, -8.217773], {icon: icon_graveyard}).bindPopup("Fort Riggs Graves");
      var sbgraves = L.marker([20.776659, -13.688965], {icon: icon_graveyard}).bindPopup("Strawberry Graves");

      var obwcamp01 = L.marker([-10.16356, 2.263184], {icon: icon_campsite}).bindPopup("BW Campsite #01");

      var manufacturingcamp = L.marker([4.477856, -5.756836], {icon: icon_interest}).bindPopup("Manufacturing Camp");
      var bmcumberlandfalls = L.marker([36.580247, 4.921875], {icon: icon_interest}).bindPopup("Cumberland Falls Market");
      var bmwallacestation = L.marker([41.162114, -6.196289], {icon: icon_interest}).bindPopup("Wallace Station Market");
      var bmbardscrossing = L.marker([4.67498, 14.765625], {icon: icon_interest}).bindPopup("Bard's Crossing Market");
      var bmtalltreesenclave = L.marker([-3.623071, -34.760742], {icon: icon_interest}).bindPopup("Tall Trees Enclave Market");
      var trainrobberyboy = L.marker([-44.00862, -10.327148], {icon: icon_interest}).bindPopup("Train Heist Boy");
      var travellingmerchant = L.marker([37.474858, -16.259766], {icon: icon_interest}).bindPopup("Travelling Merchant");
      

      //Marker Groups
      var marshal = L.layerGroup([macfarlanes,bisonplains]);
      var ingredients = L.layerGroup([blueberries,olives]);
      var reservations = L.layerGroup([wapiticamp,miskwacamp,blackknife,nanolitribe]);
      var graveyards = L.layerGroup([bwgraves,frgraves,sbgraves]);
      var campsites = L.layerGroup([obwcamp01]);
      var interests = L.layerGroup([manufacturingcamp,bmcumberlandfalls,bmwallacestation,bmbardscrossing,bmtalltreesenclave,trainrobberyboy,travellingmerchant]);
      var development = L.layerGroup([marker]);

      //Marker Overlay
      var overlays = {
        "Marshal Patrol" : marshal,
        "Ingredients" : ingredients,
        "Reservations" : reservations,
        "Graveyards" : graveyards,
        "Campsites" : campsites,
        "Interests" : interests,
        "Map Dev" : development,
      }

      //GROUP CONTROLS
      L.control.layers(null, overlays).addTo(map);
    </script>
  </body>
</html>